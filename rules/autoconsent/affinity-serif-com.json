{
  "name": "affinity.serif.com",
  "detectCmp": [
    {
      "exists": ".c-cookie-banner"
    },
    {
      "exists": ".c-cookie-banner button"
    }
  ],
  "detectPopup": [
    { "visible": ".c-cookie-banner" }
  ],
  "optIn": [
    { "click": "button[data-qa=\"allow-all-cookies\"]" }
  ],
  "optOut": [
    {
      "click": "button[data-qa=\"manage-cookies\"]"
    },
    {
      "waitFor": ".c-cookie-banner ~ [role=\"dialog\"]"
    },
    {
      "waitForThenClick": ".c-cookie-banner ~ [role=\"dialog\"] input[type=\"checkbox\"][value=\"true\"]",
      "all": true
    },
    {
      "click": ".c-cookie-banner ~ [role=\"dialog\"] .c-modal__action button"
    }
  ],
  "test": [
    {
      "wait": 500
    },
    {
      "eval": "document.cookie.includes('serif_manage_cookies_viewed') && !document.cookie.includes('serif_allow_analytics')"
    }
  ]
}
